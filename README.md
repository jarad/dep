Daily Erosion Project (DEP)
===========================

Herein lies the Iowa State University [Daily Erosion Project](https://dailyerosion.org) (version 2). This
code base encompasses the processing of locally generated inputs into formats
that the [WEPP Model](https://www.ars.usda.gov/midwest-area/west-lafayette-in/national-soil-erosion-research/docs/wepp/research/).

Much of this code is highly custom to what our project aims to do, but hopefully some of it is useful for your inspiration.  In general, the code folders are as such:

- **admin** mostly unused website admin/ interface
- **config** website configuration files
- **data** un-versioned local input data files
- **database** Postgresql database schema management
- **docs** some more documentation
- **htdocs** website folder root
- **include** mostly PHP include files for the website functionality
- **prj2wepp** installation/support files for the usage of [prj2wepp](http://milford.nserl.purdue.edu/weppdocs/prj2wepp/), which allows for some preprocessing of WEPP inputs
- **scripts** much of the processing magic happens here
- **src** source code trees for WEPP as some additional code modifications have been made by this project

So this code base makes two general assumptions that may be necessary for your local usage.

1. This code resides at `/opt/dep`
2. The file storage of input and output data for this project resides at `/i/<scenario>`

### Concept of Scenarios

The DEP has generated output for a number of scenarios.  These scenarios vary inputs to some extent with each scenario code representing some realization.  These codes are numeric values starting at zero.  Scenario `0` represents the "production" run of DEP that you find on the website.


### Structure of the /i directory tree

- **cli** -- climate files generated from [scripts/cligen/](scripts/cligen/)
- **env** -- erosion output from [scripts/RT/proctor.py](scripts/RT/proctor.py)
- **man** -- management files generated by [scripts/import/prj2wepp.py](scripts/import/prj2wepp.py)
- **prj** -- WEPP project files generated by [scripts/import/flowpath2prj.py](scripts/import/flowpath2prj.py)
- **run** -- WEPP run files generated by [scripts/RT/proctor.py](scripts/RT/proctor.py)
- **slp** -- Slope files generated by  [scripts/import/prj2wepp.py](scripts/import/prj2wepp.py)
- **sol** -- Soil files generated by [scripts/import/prj2wepp.py](scripts/import/prj2wepp.py)
- **sol_input** -- input soil files from David James
- **wb** -- WEPP output water balance files generated by [scripts/RT/proctor.py](scripts/RT/proctor.py)


### Project Notes

1. We utilize `EPSG:5070` (USGS CONUS Albers) as our GIS projection of choice for work.
